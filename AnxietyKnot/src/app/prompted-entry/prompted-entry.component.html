<mat-card>
  <form (submit)="onSaveEntry(entryForm)" #entryForm="ngForm">
    <label for="title">Title</label>
    <mat-form-field>

      <input
        matInput
        type="text"
        name="title"
        [ngModel]="entry?.title"
        required
        minlength="3"
        placeholder="Journal Title"
        #title="ngModel">
      <mat-error *ngIf="title.invalid">Please enter a post title.</mat-error>
    </mat-form-field>
    <label for="what_happened">What Happened?</label>
    <mat-form-field>
      <textarea
        matInput
        rows="4"
        name="what_happened"
        [ngModel]="entry?.what_happened"
        required
        placeholder="Describe the situation"
        #what_happened="ngModel"></textarea>
      <mat-error *ngIf="what_happened.invalid">Please describe what happened.</mat-error>
    </mat-form-field>
    <label for="going_through_mind">What is going through your mind?</label>
    <mat-form-field>
      <textarea
        matInput
        rows="4"
        name="going_through_mind"
        [ngModel]="entry?.going_through_mind"
        required
        placeholder="Describe your thoughts."
        #going_through_mind="ngModel"></textarea>
      <mat-error *ngIf="going_through_mind.invalid">Please describe your thoughts on the situation.</mat-error>
    </mat-form-field>
    <label for="emotion1">What emotions are you feeling?</label>
    <mat-form-field>
      <textarea
        matInput
        rows="4"
        name="emotion1"
        [ngModel]="entry?.emotion1"
        required
        placeholder="An emotion you are feeling"
        #emotion1="ngModel"></textarea>
      <mat-error *ngIf="emotion1.invalid">Please enter an emotion.</mat-error>
      </mat-form-field>

      <mat-form-field>
      <mat-label>Intensity of emotion</mat-label>
    <mat-select >
      <mat-option *ngFor="let intensity of intensities" [value]="intensity1"
      ngDefaultControl
      name="intensity1"
      [ngModel]="entry?.intensity1"
      #intensity1="ngModel">

        {{intensity}}
      </mat-option>

    </mat-select>
  </mat-form-field>
      <mat-form-field>
      <textarea
        matInput
        rows="4"
        name="emotion2"
        [ngModel]="entry?.emotion2"
        required
        placeholder="An emotion you are feeling"
        #emotion2="ngModel"></textarea>
      <mat-error *ngIf="emotion2.invalid">Please enter an emotion.</mat-error>
</mat-form-field>
        <mat-form-field>
        <mat-label>Intensity of emotion</mat-label>
        <mat-select >
          <mat-option *ngFor="let intensity of intensities" [value]="intensity2"
          ngDefaultControl
          name="intensity2"
          [ngModel]="entry?.intensity2"
      #intensity2="ngModel">
            {{intensity}}
          </mat-option>

        </mat-select>

    </mat-form-field>
    <mat-form-field name="thoughts">
      <input matInput [hidden]="true"
      name="thought-patterns"
      [ngModel]="entry?.thought_patterns"
      #thought_patterns="ngModel"
      >


        <ul class="checkbox-items">
          <li *ngFor="let item of checkboxDataList">
            <input type="checkbox" name="thought_patterns"
            [(ngModel)]="item.isChecked" (change)="changeSelection()">
            {{item.label}}
          </li>
        </ul>



        <div class="col-md-4">


      <h4>Array of IDs</h4>
      <code>{{checkedIDs}}</code>
    </div>


        <!-- <mat-card-content>
          <h3>What thought patterns do you recognize?</h3>
        <section>
          <div class="row">
            <div class="col-sm-4">
              <mat-checkbox class="thought-patterns" value="all_or_nothing">All or nothing</mat-checkbox>
            </div>
            <div class="col-sm-4">
              <mat-checkbox class="thought-patterns" value="fortune_telling">Fortune telling</mat-checkbox>
            </div>
            <div class="col-sm-4">
              <mat-checkbox class="thought-patterns" value="minimizing_the_positive">Minimizing the positive</mat-checkbox>
            </div>
          </div>

          <div class="row">
            <div class="col-sm-4">
              <mat-checkbox class="thought-patterns" value="blaming_others">Blaming others</mat-checkbox>
            </div>
            <div class="col-sm-4">
              <mat-checkbox class="thought-patterns" value="labeling">Labeling</mat-checkbox>
            </div>
            <div class="col-sm-4">
              <mat-checkbox class="thought-patterns" value="overgeneralization">Overgeneralization</mat-checkbox>
            </div>
          </div>

          <div class="row">
            <div class="col-sm-4">
              <mat-checkbox class="thought-patterns" value="catastrophizing">Catastrophizing</mat-checkbox>
            </div>
            <div class="col-sm-4">
              <mat-checkbox class="thought-patterns" value="magnifying_the_negative">Magnifying the negative</mat-checkbox>
            </div>
            <div class="col-sm-4">
              <mat-checkbox class="thought-patterns" value="self_blaming">Self-blaming</mat-checkbox>
            </div>
          </div>

          <div class="row">
            <div class="col-sm-4">
              <mat-checkbox class="thought-patterns" value="emotional_reasoning">Emotional reasoning</mat-checkbox>
            </div>
            <div class="col-sm-4">
              <mat-checkbox class="thought-patterns" value="mind_reading">Mind reading</mat-checkbox>
            </div>
            <div class="col-sm-4">
              <mat-checkbox class="thought-patterns" value="should_statements">Should statements</mat-checkbox>
            </div>
          </div>
        </section>
      </mat-card-content> -->
    </mat-form-field>
    <label for="custom_thought_patterns">What thought patterns aren't listed?</label>
    <mat-form-field>


      <textarea
        matInput
        rows="4"
        name="custom_thought_patterns"
        [ngModel]="entry?.custom_thought_patterns"
        placeholder="Thought patterns not listed"
        #custom_thought_patterns="ngModel"></textarea>

    </mat-form-field>
    <label for="thinking_differently">How can you think about the situation differently?</label>
    <mat-form-field>
      <textarea
        matInput
        rows="4"
        name="thinking_differently"
        [ngModel]="entry?.thinking_differently"
        required
        placeholder="Change your thoughts"
        #thinking_differently="ngModel"></textarea>
      <mat-error *ngIf="thinking_differently.invalid">Please describe how you can think differently.</mat-error>
    </mat-form-field>
    <button
      mat-raised-button
      color="accent"
      type="submit">Save Entry</button>
  </form>
</mat-card>
